# 拦截器

课程 ： <https://juejin.cn/book/7133100888566005763/section/7133186623033835531?enter_from=course_center&utm_source=course_center>

run() 方法会将两个拦截器按照顺序包装成一个洋葱模型，并执行这个洋葱模型。执行过程中，每个拦截器都会先执行一些前置操作，然后调用 next() 方法执行下一个拦截器。最后，执行完所有的拦截器后，会再次回到每个拦截器，执行一些后置操作。如果执行过程中出现异常，会被捕获并输出错误信息。最终，run() 方法会返回传入的

next参数是在包装时传递的，是下一个拦截切面的函数。当当前拦截切面函数执行完毕时，会调用next()，将控制权交给下一个拦截切面函数，使其继续执行。由于是从右往左执行，所以最内层的函数执行完毕后，会依次调用上一层函数，直到最外层的函数执行完毕，整个洋葱模型的执行才算结束。
